<!doctype html>
<html lang='en'>
<head>
	<link type="text/css" rel="stylesheet" href="css/bootstrap/bootstrap.css" />
	
	<link type="text/css" rel="stylesheet" href="css/ui-lightness/jquery-ui-1.10.2.custom.css" />
	<link type="text/css" rel="stylesheet" href="css/style.css" />
	<link type="text/css" rel="stylesheet" href="js/ideagarden/ideagarden.css" />

	<script type="text/javascript" src="js/jquery-1.9.1.js"></script>
	<script type="text/javascript" src="js/jquery-ui-1.10.2.custom.js"></script>

	<!-- Idea Garden -->
	<script type="text/javascript" src="js/ideagarden/ideagarden-suggestion.js"></script>
	<script type="text/javascript" src="js/ideagarden/ideagarden.js"></script>
	
	<script type="text/javascript" src="js/ideagarden/ideagarden-suggestion-composition.js"></script>
	<script type="text/javascript" src="js/ideagarden/ideagarden-suggestion-repeat.js"></script>

	<script type="text/javascript">
	$(document).ready(function() {
		console.log("DOM has been loaded.");

		(function($) {
			$.fn.extend( {
				textScanner: function(helpElement) {
					$(this).on("keyup focus", function() {
						readInput(this, helpElement);
					});
					function readInput(src, helpElement) {
						var program = src.value;
						IdeaGarden.chooseSuggestion(program, {element: helpElement});
					}
				}
			});
		})(jQuery);

		var helpElement = $("#helpSection");
		$("#programText").textScanner(helpElement);

		$("#getHelp").button();

		$("#getHelp").on('mouseover click', function() {
			console.log("Button clicked.");
			IdeaGarden.compositionSuggestion({});
		});
	});
	</script>
</head>
<body>
	<div class="container-fluid">
		<h1>A Programming Environment</h1>

		<div class="row-fluid">
			
			<div class="span12">
				<p class="lead">Programming is easy!</p>

				<p>Write a program.</p>
			</div>

			<div class="row-fluid">
				<div class="span8">
					<div id="hostEnvironment">
						<form>
							<fieldset>
								<label>Code</label>
								<textarea id="programText" class="boxsizingborder" rows="10" placeholder='Write your code here.'></textarea>
								
							</form>
						</div>
					</div>
					<div class="span4">
						<div>
							<button id="getHelp">Idea Garden, help me!</button>
						</div>
						<div id="helpSection">
						</div>

					</div>
				</div>
			</div>
			<div class="row-fluid">
				<div class="span4">
					<p>In ideagarden.js: <code>ENVIRONMENT</code> should be either overridden in ideagarden.js before use, or it should be initialized using a call.</p>
					<p>To create a new suggestion, copy and paste the IdeaGardenSuggestion class.

						Implement the <code>suggestionContent()</code> and the <code>suggestionBehavior()</code> methods.
						If the suggestion is event-triggered, also implement the <code>chooseToShow()</code> method.
						If the suggestion is explicitly called, add a call for the interface to the IdeaGarden class. </p>
					</div>
					<div class="span8">
						<h2>The Idea Garden Architecture</h2>
						<div id="documentation">

							<img src="img/ideagarden-architecture.png"/>
						</div>
					</div>
				</div>
			</body>

			</html>